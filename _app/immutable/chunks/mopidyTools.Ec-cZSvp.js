import{h as Le,j as _e,S as Se,i as Ce,M as $,N as ee,a as te,d as W,q as L,f as Me,g as xe}from"./index.dv9gt0BC.js";import{r as ze,s as Ee,D as ne,n as se,E as ce,F as ae}from"./scheduler.BeHD8Juy.js";import{w as u}from"./index.BTBU8PPK.js";function St(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ne(t,e){_e(t,1,1,()=>{e.delete(t.key)})}function Ct(t,e){t.f(),Ne(t,e)}function Mt(t,e,n,s,c,r,a,i,f,m,S,j){let w=t.length,_=r.length,g=w;const R={};for(;g--;)R[t[g].key]=g;const E=[],A=new Map,H=new Map,X=[];for(g=_;g--;){const h=j(c,r,g),b=n(h);let k=a.get(b);k?s&&X.push(()=>k.p(h,e)):(k=m(b,h),k.c()),A.set(b,E[g]=k),b in R&&H.set(b,Math.abs(g-R[b]))}const Y=new Set,Z=new Set;function I(h){Le(h,1),h.m(i,S),a.set(h.key,h),S=h.first,_--}for(;w&&_;){const h=E[_-1],b=t[w-1],k=h.key,N=b.key;h===b?(S=h.first,w--,_--):A.has(N)?!a.has(k)||Y.has(k)?I(h):Z.has(N)?w--:H.get(k)>H.get(N)?(Z.add(k),I(h)):(Y.add(N),w--):(f(b,a),w--)}for(;w--;){const h=t[w];A.has(h.key)||f(h,a)}for(;_;)I(E[_-1]);return ze(X),E}function Pe(t){let e,n,s;return{c(){e=$("svg"),n=$("path"),this.h()},l(c){e=ee(c,"svg",{"aria-hidden":!0,class:!0,role:!0,xmlns:!0,viewBox:!0});var r=te(e);n=ee(r,"path",{fill:!0,d:!0}),te(n).forEach(W),r.forEach(W),this.h()},h(){L(n,"fill","currentColor"),L(n,"d",t[0]),L(e,"aria-hidden","true"),L(e,"class",s=ne(t[1])+" svelte-88c8nf"),L(e,"role","img"),L(e,"xmlns","http://www.w3.org/2000/svg"),L(e,"viewBox",t[2])},m(c,r){Me(c,e,r),xe(e,n)},p(c,[r]){r&1&&L(n,"d",c[0]),r&2&&s!==(s=ne(c[1])+" svelte-88c8nf")&&L(e,"class",s),r&4&&L(e,"viewBox",c[2])},i:se,o:se,d(c){c&&W(e)}}}function Ve(t,e,n){let{icon:s}=e,{spin:c=!1}=e,r=[],a="",i="";return t.$$set=f=>{n(5,e=ce(ce({},e),ae(f))),"icon"in f&&n(3,s=f.icon),"spin"in f&&n(4,c=f.spin)},t.$$.update=()=>{t.$$.dirty&8&&n(2,i="0 0 "+s.icon[0]+" "+s.icon[1]),n(1,a="fa "+(e.class?e.class:"")+(c?" spin":"")),t.$$.dirty&8&&n(0,r=s.icon[4])},e=ae(e),[r,a,i,s,c]}class xt extends Se{constructor(e){super(),Ce(this,e,Ve,Pe,Ee,{icon:3,spin:4})}}var Te={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H296c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272H216c13.3 0 24 10.7 24 24V440c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"]},zt=Te,Et={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},Nt={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},Oe={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},Pt=Oe,je={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},Vt=je,Re={prefix:"fas",iconName:"circle-play",icon:[512,512,[61469,"play-circle"],"f144","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"]},Tt=Re,Ae={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Ot=Ae,jt={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},He={prefix:"fas",iconName:"circle-pause",icon:[512,512,[62092,"pause-circle"],"f28b","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},Rt=He,At={prefix:"fas",iconName:"recycle",icon:[512,512,[9842,9850,9851],"f1b8","M174.7 45.1C192.2 17 223 0 256 0s63.8 17 81.3 45.1l38.6 61.7 27-15.6c8.4-4.9 18.9-4.2 26.6 1.7s11.1 15.9 8.6 25.3l-23.4 87.4c-3.4 12.8-16.6 20.4-29.4 17l-87.4-23.4c-9.4-2.5-16.3-10.4-17.6-20s3.4-19.1 11.8-23.9l28.4-16.4L283 79c-5.8-9.3-16-15-27-15s-21.2 5.7-27 15l-17.5 28c-9.2 14.8-28.6 19.5-43.6 10.5c-15.3-9.2-20.2-29.2-10.7-44.4l17.5-28zM429.5 251.9c15-9 34.4-4.3 43.6 10.5l24.4 39.1c9.4 15.1 14.4 32.4 14.6 50.2c.3 53.1-42.7 96.4-95.8 96.4L320 448v32c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-64-64c-9.4-9.4-9.4-24.6 0-33.9l64-64c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2v32l96.2 0c17.6 0 31.9-14.4 31.8-32c0-5.9-1.7-11.7-4.8-16.7l-24.4-39.1c-9.5-15.2-4.7-35.2 10.7-44.4zm-364.6-31L36 204.2c-8.4-4.9-13.1-14.3-11.8-23.9s8.2-17.5 17.6-20l87.4-23.4c12.8-3.4 26 4.2 29.4 17L182 241.2c2.5 9.4-.9 19.3-8.6 25.3s-18.2 6.6-26.6 1.7l-26.5-15.3L68.8 335.3c-3.1 5-4.8 10.8-4.8 16.7c-.1 17.6 14.2 32 31.8 32l32.2 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32.2 0C42.7 448-.3 404.8 0 351.6c.1-17.8 5.1-35.1 14.6-50.2l50.3-80.5z"]},Ie={prefix:"fas",iconName:"volume-high",icon:[640,512,[128266,"volume-up"],"f028","M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"]},Ht=Ie,We={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},It=We,De={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},Wt=De,Dt={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},Ut={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},qt={prefix:"fas",iconName:"satellite",icon:[512,512,[128752],"f7bf","M233 7c-9.4-9.4-24.6-9.4-33.9 0l-96 96c-9.4 9.4-9.4 24.6 0 33.9l89.4 89.4-15.5 15.5C152.3 230.4 124.9 224 96 224c-31.7 0-61.5 7.7-87.8 21.2c-9 4.7-10.3 16.7-3.1 23.8L112.7 376.7 96.3 393.1c-2.6-.7-5.4-1.1-8.3-1.1c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32c0-2.9-.4-5.6-1.1-8.3l16.4-16.4L242.9 506.9c7.2 7.2 19.2 5.9 23.8-3.1C280.3 477.5 288 447.7 288 416c0-28.9-6.4-56.3-17.8-80.9l15.5-15.5L375 409c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9l-89.4-89.4 55-55c12.5-12.5 12.5-32.8 0-45.3l-48-48c-12.5-12.5-32.8-12.5-45.3 0l-55 55L233 7zm159 351l-72.4-72.4 62.1-62.1L454.1 296 392 358.1zM226.3 192.4L153.9 120 216 57.9l72.4 72.4-62.1 62.1z"]},Ft={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},Ue={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Gt=Ue,Bt={prefix:"fas",iconName:"utensils",icon:[448,512,[127860,61685,"cutlery"],"f2e7","M416 0C400 0 288 32 288 176V288c0 35.3 28.7 64 64 64h32V480c0 17.7 14.3 32 32 32s32-14.3 32-32V352 240 32c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7 .1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7V480c0 17.7 14.3 32 32 32s32-14.3 32-32V255.6c44.9-4.1 80-41.8 80-87.7c0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16V150.2c0 5.4-4.4 9.8-9.8 9.8c-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0s-15.2 6.3-15.9 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9c-5.4 0-9.8-4.4-9.8-9.8V16zm48.3 152l-.3 0-.3 0 .3-.7 .3 .7z"]},Kt={prefix:"fas",iconName:"guitar",icon:[512,512,[],"f7a6","M465 7c-9.4-9.4-24.6-9.4-33.9 0L383 55c-2.4 2.4-4.3 5.3-5.5 8.5l-15.4 41-77.5 77.6c-45.1-29.4-99.3-30.2-131 1.6c-11 11-18 24.6-21.4 39.6c-3.7 16.6-19.1 30.7-36.1 31.6c-25.6 1.3-49.3 10.7-67.3 28.6C-16 328.4-7.6 409.4 47.5 464.5s136.1 63.5 180.9 18.7c17.9-17.9 27.4-41.7 28.6-67.3c.9-17 15-32.3 31.6-36.1c15-3.4 28.6-10.5 39.6-21.4c31.8-31.8 31-85.9 1.6-131l77.6-77.6 41-15.4c3.2-1.2 6.1-3.1 8.5-5.5l48-48c9.4-9.4 9.4-24.6 0-33.9L465 7zM208 256a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Qt={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Jt={prefix:"fas",iconName:"grip-lines",icon:[448,512,[],"f7a4","M32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 288zm0-128c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160z"]},Xt={prefix:"fas",iconName:"podcast",icon:[448,512,[],"f2ce","M319.4 372c48.5-31.3 80.6-85.9 80.6-148c0-97.2-78.8-176-176-176S48 126.8 48 224c0 62.1 32.1 116.6 80.6 148c1.2 17.3 4 38 7.2 57.1l.2 1C56 395.8 0 316.5 0 224C0 100.3 100.3 0 224 0S448 100.3 448 224c0 92.5-56 171.9-136 206.1l.2-1.1c3.1-19.2 6-39.8 7.2-57zm-2.3-38.1c-1.6-5.7-3.9-11.1-7-16.2c-5.8-9.7-13.5-17-21.9-22.4c19.5-17.6 31.8-43 31.8-71.3c0-53-43-96-96-96s-96 43-96 96c0 28.3 12.3 53.8 31.8 71.3c-8.4 5.4-16.1 12.7-21.9 22.4c-3.1 5.1-5.4 10.5-7 16.2C99.8 307.5 80 268 80 224c0-79.5 64.5-144 144-144s144 64.5 144 144c0 44-19.8 83.5-50.9 109.9zM224 312c32.9 0 64 8.6 64 43.8c0 33-12.9 104.1-20.6 132.9c-5.1 19-24.5 23.4-43.4 23.4s-38.2-4.4-43.4-23.4c-7.8-28.5-20.6-99.7-20.6-132.8c0-35.1 31.1-43.8 64-43.8zm0-144a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},qe={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Yt=qe,Zt={prefix:"fas",iconName:"fish",icon:[576,512,[128031],"f578","M180.5 141.5C219.7 108.5 272.6 80 336 80s116.3 28.5 155.5 61.5c39.1 33 66.9 72.4 81 99.8c4.7 9.2 4.7 20.1 0 29.3c-14.1 27.4-41.9 66.8-81 99.8C452.3 403.5 399.4 432 336 432s-116.3-28.5-155.5-61.5c-16.2-13.7-30.5-28.5-42.7-43.1L48.1 379.6c-12.5 7.3-28.4 5.3-38.7-4.9S-3 348.7 4.2 336.1L50 256 4.2 175.9c-7.2-12.6-5-28.4 5.3-38.6s26.1-12.2 38.7-4.9l89.7 52.3c12.2-14.6 26.5-29.4 42.7-43.1zM448 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Fe={prefix:"fas",iconName:"volume-xmark",icon:[576,512,["volume-mute","volume-times"],"f6a9","M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},$t=Fe,e2={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},t2={prefix:"fas",iconName:"angle-up",icon:[448,512,[8963],"f106","M201.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 205.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},n2={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},s2={prefix:"fas",iconName:"music",icon:[512,512,[127925],"f001","M499.1 6.3c8.1 6 12.9 15.6 12.9 25.7v72V368c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V147L192 223.8V432c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V200 128c0-14.1 9.3-26.6 22.8-30.7l320-96c9.7-2.9 20.2-1.1 28.3 5z"]},Ge={prefix:"fas",iconName:"link-slash",icon:[640,512,["chain-broken","chain-slash","unlink"],"f127","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L489.3 358.2l90.5-90.5c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114l-96 96-31.9-25C430.9 239.6 420.1 175.1 377 132c-52.2-52.3-134.5-56.2-191.3-11.7L38.8 5.1zM239 162c30.1-14.9 67.7-9.9 92.8 15.3c20 20 27.5 48.3 21.7 74.5L239 162zM116.6 187.9L60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l61.8-61.8-50.6-39.9zM220.9 270c-2.1 39.8 12.2 80.1 42.2 110c38.9 38.9 94.4 51 143.6 36.3L220.9 270z"]},c2=Ge,a2={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},r2={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},Be={prefix:"fas",iconName:"turn-down",icon:[384,512,[10549,"level-down-alt"],"f3be","M350 334.5c3.8 8.8 2 19-4.6 26l-136 144c-4.5 4.8-10.8 7.5-17.4 7.5s-12.9-2.7-17.4-7.5l-136-144c-6.6-7-8.4-17.2-4.6-26s12.5-14.5 22-14.5h88l0-192c0-17.7-14.3-32-32-32H32C14.3 96 0 81.7 0 64V32C0 14.3 14.3 0 32 0l80 0c70.7 0 128 57.3 128 128l0 192h88c9.6 0 18.2 5.7 22 14.5z"]},o2=Be,Ke={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},i2=Ke;const Qe=u(null),l2=u(null),f2=u([]),Je=u({}),y=u(0),re=u(null),oe=u(null),Xe=u(!1),Ye=u(!1),Ze=u(!1),$e=u(!1),et=u(!1),q=u(0),u2=u(!1),d2=u(!1),h2=u(""),tt=u([]),ue=u(""),de=u(""),he=u(""),p2=u(""),m2=u(""),v2=u("");var D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q={exports:{}},x=typeof Reflect=="object"?Reflect:null,ie=x&&typeof x.apply=="function"?x.apply:function(e,n,s){return Function.prototype.apply.call(e,n,s)},P;x&&typeof x.ownKeys=="function"?P=x.ownKeys:Object.getOwnPropertySymbols?P=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:P=function(e){return Object.getOwnPropertyNames(e)};function st(t){console&&console.warn&&console.warn(t)}var pe=Number.isNaN||function(e){return e!==e};function l(){l.init.call(this)}Q.exports=l;Q.exports.once=ot;l.EventEmitter=l;l.prototype._events=void 0;l.prototype._eventsCount=0;l.prototype._maxListeners=void 0;var le=10;function T(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return le},set:function(t){if(typeof t!="number"||t<0||pe(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");le=t}});l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};l.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||pe(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function me(t){return t._maxListeners===void 0?l.defaultMaxListeners:t._maxListeners}l.prototype.getMaxListeners=function(){return me(this)};l.prototype.emit=function(e){for(var n=[],s=1;s<arguments.length;s++)n.push(arguments[s]);var c=e==="error",r=this._events;if(r!==void 0)c=c&&r.error===void 0;else if(!c)return!1;if(c){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var i=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw i.context=a,i}var f=r[e];if(f===void 0)return!1;if(typeof f=="function")ie(f,this,n);else for(var m=f.length,S=be(f,m),s=0;s<m;++s)ie(S[s],this,n);return!0};function ve(t,e,n,s){var c,r,a;if(T(n),r=t._events,r===void 0?(r=t._events=Object.create(null),t._eventsCount=0):(r.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),r=t._events),a=r[e]),a===void 0)a=r[e]=n,++t._eventsCount;else if(typeof a=="function"?a=r[e]=s?[n,a]:[a,n]:s?a.unshift(n):a.push(n),c=me(t),c>0&&a.length>c&&!a.warned){a.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=t,i.type=e,i.count=a.length,st(i)}return t}l.prototype.addListener=function(e,n){return ve(this,e,n,!1)};l.prototype.on=l.prototype.addListener;l.prototype.prependListener=function(e,n){return ve(this,e,n,!0)};function ct(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ye(t,e,n){var s={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},c=ct.bind(s);return c.listener=n,s.wrapFn=c,c}l.prototype.once=function(e,n){return T(n),this.on(e,ye(this,e,n)),this};l.prototype.prependOnceListener=function(e,n){return T(n),this.prependListener(e,ye(this,e,n)),this};l.prototype.removeListener=function(e,n){var s,c,r,a,i;if(T(n),c=this._events,c===void 0)return this;if(s=c[e],s===void 0)return this;if(s===n||s.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete c[e],c.removeListener&&this.emit("removeListener",e,s.listener||n));else if(typeof s!="function"){for(r=-1,a=s.length-1;a>=0;a--)if(s[a]===n||s[a].listener===n){i=s[a].listener,r=a;break}if(r<0)return this;r===0?s.shift():at(s,r),s.length===1&&(c[e]=s[0]),c.removeListener!==void 0&&this.emit("removeListener",e,i||n)}return this};l.prototype.off=l.prototype.removeListener;l.prototype.removeAllListeners=function(e){var n,s,c;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[e]),this;if(arguments.length===0){var r=Object.keys(s),a;for(c=0;c<r.length;++c)a=r[c],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=s[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(c=n.length-1;c>=0;c--)this.removeListener(e,n[c]);return this};function we(t,e,n){var s=t._events;if(s===void 0)return[];var c=s[e];return c===void 0?[]:typeof c=="function"?n?[c.listener||c]:[c]:n?rt(c):be(c,c.length)}l.prototype.listeners=function(e){return we(this,e,!0)};l.prototype.rawListeners=function(e){return we(this,e,!1)};l.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ge.call(t,e)};l.prototype.listenerCount=ge;function ge(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]};function be(t,e){for(var n=new Array(e),s=0;s<e;++s)n[s]=t[s];return n}function at(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function rt(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function ot(t,e){return new Promise(function(n,s){function c(a){t.removeListener(e,r),s(a)}function r(){typeof t.removeListener=="function"&&t.removeListener("error",c),n([].slice.call(arguments))}ke(t,e,r,{once:!0}),e!=="error"&&it(t,c,{once:!0})})}function it(t,e,n){typeof t.on=="function"&&ke(t,"error",e,n)}function ke(t,e,n,s){if(typeof t.on=="function")s.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function c(r){s.once&&t.removeEventListener(e,c),n(r)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var lt=Q.exports,M=null;typeof WebSocket<"u"?M=WebSocket:typeof MozWebSocket<"u"?M=MozWebSocket:typeof D<"u"?M=D.WebSocket||D.MozWebSocket:typeof window<"u"?M=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(M=self.WebSocket||self.MozWebSocket);var ft=M;const ut=lt,dt=ft;function U(t){return t.replace(/(_[a-z])/g,e=>e.toUpperCase().replace("_",""))}class p extends ut{constructor(e){super(),this._console=this._getConsole(e||{}),this._settings=this._configure(e||{}),this._backoffDelay=this._settings.backoffDelayMin,this._pendingRequests={},this._webSocket=null,this._delegateEvents(),this._settings.autoConnect&&this.connect()}_getConsole(e){if(typeof e.console<"u")return e.console;const n=typeof console<"u"&&console||{};return n.log=n.log||(()=>{}),n.warn=n.warn||(()=>{}),n.error=n.error||(()=>{}),n}_configure(e){const n={...e},s=typeof document<"u"&&document.location.protocol==="https:"?"wss://":"ws://",c=typeof document<"u"&&document.location.host||"localhost";return n.webSocketUrl=e.webSocketUrl||`${s}${c}/mopidy/ws`,e.autoConnect!==!1&&(n.autoConnect=!0),n.backoffDelayMin=e.backoffDelayMin||1e3,n.backoffDelayMax=e.backoffDelayMax||64e3,n}_delegateEvents(){this.removeAllListeners("websocket:close"),this.removeAllListeners("websocket:error"),this.removeAllListeners("websocket:incomingMessage"),this.removeAllListeners("websocket:open"),this.removeAllListeners("state:offline"),this.on("websocket:close",this._cleanup),this.on("websocket:error",this._handleWebSocketError),this.on("websocket:incomingMessage",this._handleMessage),this.on("websocket:open",this._resetBackoffDelay),this.on("websocket:open",this._getApiSpec),this.on("state:offline",this._reconnect)}off(...e){if(e.length===0)this.removeAllListeners();else if(e.length===1){const n=e[0];if(typeof n=="string")this.removeAllListeners(n);else throw Error("Expected no arguments, a string, or a string and a listener.")}else this.removeListener(...e)}connect(){if(this._webSocket){if(this._webSocket.readyState===p.WebSocket.OPEN)return;this._webSocket.close()}this._webSocket=this._settings.webSocket||new p.WebSocket(this._settings.webSocketUrl),this._webSocket.onclose=e=>{this.emit("websocket:close",e)},this._webSocket.onerror=e=>{this.emit("websocket:error",e)},this._webSocket.onopen=()=>{this.emit("websocket:open")},this._webSocket.onmessage=e=>{this.emit("websocket:incomingMessage",e)}}_cleanup(e){Object.keys(this._pendingRequests).forEach(n=>{const{reject:s}=this._pendingRequests[n];delete this._pendingRequests[n];const c=new p.ConnectionError("WebSocket closed");c.closeEvent=e,s(c)}),this.emit("state","state:offline"),this.emit("state:offline")}_reconnect(){setTimeout(()=>{this.emit("state","reconnectionPending",{timeToAttempt:this._backoffDelay}),this.emit("reconnectionPending",{timeToAttempt:this._backoffDelay}),setTimeout(()=>{this.emit("state","reconnecting"),this.emit("reconnecting"),this.connect()},this._backoffDelay),this._backoffDelay*=2,this._backoffDelay>this._settings.backoffDelayMax&&(this._backoffDelay=this._settings.backoffDelayMax)},0)}_resetBackoffDelay(){this._backoffDelay=this._settings.backoffDelayMin}close(){this.off("state:offline",this._reconnect),this._webSocket&&this._webSocket.close()}_handleWebSocketError(e){this._console.warn("WebSocket error:",e.stack||e)}_send(e){switch(this._webSocket.readyState){case p.WebSocket.CONNECTING:return Promise.reject(new p.ConnectionError("WebSocket is still connecting"));case p.WebSocket.CLOSING:return Promise.reject(new p.ConnectionError("WebSocket is closing"));case p.WebSocket.CLOSED:return Promise.reject(new p.ConnectionError("WebSocket is closed"));default:return new Promise((n,s)=>{const c={...e,jsonrpc:"2.0",id:this._nextRequestId()};this._pendingRequests[c.id]={resolve:n,reject:s},this._webSocket.send(JSON.stringify(c)),this.emit("websocket:outgoingMessage",c)})}}_handleMessage(e){try{const n=JSON.parse(e.data);Object.hasOwnProperty.call(n,"id")?this._handleResponse(n):Object.hasOwnProperty.call(n,"event")?this._handleEvent(n):this._console.warn(`Unknown message type received. Message was: ${e.data}`)}catch(n){if(n instanceof SyntaxError)this._console.warn(`WebSocket message parsing failed. Message was: ${e.data}`);else throw n}}_handleResponse(e){if(!Object.hasOwnProperty.call(this._pendingRequests,e.id)){this._console.warn("Unexpected response received. Message was:",e);return}const{resolve:n,reject:s}=this._pendingRequests[e.id];if(delete this._pendingRequests[e.id],Object.hasOwnProperty.call(e,"result"))n(e.result);else if(Object.hasOwnProperty.call(e,"error")){const c=new p.ServerError(e.error.message);c.code=e.error.code,c.data=e.error.data,s(c),this._console.warn("Server returned error:",e.error)}else{const c=new Error("Response without 'result' or 'error' received");c.data={response:e},s(c),this._console.warn("Response without 'result' or 'error' received. Message was:",e)}}_handleEvent(e){const n={...e};delete n.event;const s=`event:${U(e.event)}`;this.emit("event",s,n),this.emit(s,n)}_getApiSpec(){return this._send({method:"core.describe"}).then(this._createApi.bind(this)).catch(this._handleWebSocketError.bind(this))}_createApi(e){const n=a=>(...i)=>{const f={method:a};return i.length===0?this._send(f):i.length>1?Promise.reject(new Error("Expected zero arguments, a single array, or a single object.")):!Array.isArray(i[0])&&i[0]!==Object(i[0])?Promise.reject(new TypeError("Expected an array or an object.")):([f.params]=i,this._send(f))},s=a=>{let i=a.split(".");return i.length>=1&&i[0]==="core"&&(i=i.slice(1)),i},c=a=>{let i=this;return a.forEach(f=>{const m=U(f);i[m]=i[m]||{},i=i[m]}),i},r=a=>{const i=s(a),f=U(i.slice(-1)[0]),m=c(i.slice(0,-1));m[f]=n(a),m[f].description=e[a].description,m[f].params=e[a].params};Object.keys(e).forEach(r),this.emit("state","state:online"),this.emit("state:online")}}class ht extends Error{constructor(e){super(e),this.name="ConnectionError"}}p.ConnectionError=ht;class pt extends Error{constructor(e){super(e),this.name="ServerError"}}p.ServerError=pt;p.WebSocket=dt;p.prototype._nextRequestId=(()=>{let t=-1;return()=>(t+=1,t)})();var mt=p;const vt=nt(mt);let o,F,G,B,K,C,V,d,z=!1,v;ue.subscribe(t=>{F=t});de.subscribe(t=>{G=t});he.subscribe(t=>{B=t});tt.subscribe(t=>{K=t});y.subscribe(t=>{C=t});q.subscribe(t=>{V=t});function y2(t){let e=~~(t/6e4),n=`${~~(t/1e3%60)}`;return`${e}:${n.padStart(2,"0")}`}function w2(t,e){return t/e*100}function yt(t,e){return~~(e*t/100)}const wt=(t,e,n)=>new Promise((s,c)=>{o=new vt({webSocketUrl:`ws${n==="true"?"s":""}://${t}:${e}/mopidy/ws/`}),o.on("state:online",async()=>{console.log("[Mopidy]: Connected");const r=await fe();C=await o.playback.getTimePosition();const a=await o.playback.getState(),i=await o.mixer.getVolume(),f=await o.mixer.getMute(),m=await o.tracklist.getRandom(),S=await o.tracklist.getConsume(),j=await o.tracklist.getRepeat(),w=await o.tracklist.getSingle();if(y.set(C),re.set(a),oe.set(i),Xe.set(f),Ye.set(m),Ze.set(S),$e.set(j),et.set(w),r){const _=r.track.length;q.set(r.track.length),a==="playing"&&(d&&clearInterval(d),d=setInterval(()=>{C>=_?clearInterval(d):y.update(g=>g+1e3)},1e3))}z=!1,Qe.set(o),s("Connected")}),o.on("state",r=>console.log("[Mopidy]:",r)),o.on("event",r=>console.log("[Mopidy]:",r)),o.on("state:offline",r=>{z=!1,c(new Error("error connecting to mopidy"))}),o.on("event:trackPlaybackEnded",r=>{let{time_position:a}=r;clearInterval(d),y.set(a)}),o.on("event:trackPlaybackPaused",r=>{let{time_position:a}=r;clearInterval(d),y.set(a)}),o.on("event:trackPlaybackResumed",r=>{let{time_position:a}=r;y.set(a),d&&clearInterval(d),d=setInterval(()=>{C>=V?clearInterval(d):y.update(i=>i+1e3)},1e3)}),o.on("event:volumeChanged",r=>{oe.set(r.volume)}),o.on("event:playbackStateChanged",r=>{let{new_state:a}=r;y.set(0),re.set(a),a=="paused"&&clearInterval(d),a=="playing"&&(d&&clearInterval(d),d=setInterval(()=>{C>=V?clearInterval(d):y.update(i=>i+1e3)},1e3))}),o.on("event:trackPlaybackStarted",async()=>{y.set(0);const r=await fe(),a=r.track.length;q.set(r.track.length),d&&clearInterval(d),d=setInterval(()=>{C>=a?clearInterval(d):y.update(i=>i+1e3)},1e3)}),o.on("error",r=>{console.log("[Mopidy]: error:",r),z=!1,c(new Error("error connecting to mopidy"))})}),gt=async()=>{const t=await fetch("/muse/config");t.status===200&&(v=await t.json())},O=async t=>{if(z){let n=0;for(;z&&n<5;)console.log("[Mopidy]: already connecting"),n+=1,await new Promise(s=>setTimeout(s,200));return"[Mopidy]: finish waiting connection"}else if(o===void 0||t){z=!0,console.log("[Mopidy]: try to connect"),await gt();const e=v&&v.mopidy&&v.mopidy.host?v.mopidy.host:F||document.defaultView.location.hostname,n=v&&v.mopidy&&v.mopidy.port?v.mopidy.port:G||document.defaultView.location.port,s=v&&v.mopidy&&v.mopidy.ssl?(!!v.mopidy.ssl).toString():B||(document.defaultView.location.protocol==="https:"?"true":"false");return ue.set(e),de.set(n),he.set(s),await wt(e,n,s),"[Mopidy]: first connection connected"}else return"[Mopidy]: already connected"},fe=async()=>{const t=await o.playback.getCurrentTlTrack();if(t)return t.track=await bt(t.track.uri),t.index=await o.tracklist.index(),Je.set(t),t},bt=async t=>{const e=await o.library.lookup([[t]]);return Object.values(e)[0][0]},g2=async()=>(await O(),await o.library.browse({uri:null})),b2=async(t,e)=>{await O();const n=await o.getUriSchemes();if(n){const s=n.filter(c=>e.indexOf(c)===-1);return s.forEach(c=>t[c]=!0),s}},k2=async(t,e)=>{const n=Object.entries(t).filter(c=>c[1]).map(c=>`${c[0]}:`),s=await o.library.search({query:{any:[e]},uris:[`${n}`]});if(s&&s.length>0){let{tracks:c}=s.pop();if(c)return c}return[]},L2=async()=>(await O(),K=(await o.playlists.asList()).map(e=>(e.slug=e.name,e)),K);async function J(t){const e=await o.playlists.lookup([t]);if(e)return e;throw new Error("error reading playlists tracks")}async function _2(){await O();const t=await o.tracklist.getTlTracks();if(t)return t;throw new Error("Error reading tracklist")}function S2(t){o.tracklist.clear(),Array.isArray(t)?o.tracklist.add({tracks:t}):o.tracklist.add({uris:[t]}),o.playback.play()}async function C2(t){const e=await o.tracklist.index();o.tracklist.add({at_position:e+1,uris:[t]})}async function M2(t){o.tracklist.add({uris:[t]})}async function x2(t){const e=await J(t);o.tracklist.clear(),o.tracklist.add([e.tracks]),o.playback.play()}async function z2(t){const e=await J(t);o.tracklist.clear(),o.tracklist.add([e.tracks]),o.tracklist.shuffle(),o.playback.play()}async function E2(t){const e=await J(t);o.tracklist.add([e.tracks])}const N2=async t=>{const e=yt(t,V),n=await o.playback.seek([e]);n?(console.log("[Mopidy]: Set track time",t),y.set(e)):console.log("[Mopidy]: Failed tracktime change",n,e)},P2=t=>{o.playback.play([t])},V2=t=>{o.tracklist.clear(),o.tracklist.add({uris:t}),o.playback.play()},T2=(t,e)=>{o.tracklist.clear(),t?o.tracklist.add([t]):e&&o.tracklist.add({uris:e}),o.tracklist.shuffle(),o.playback.play()},O2=(t,e)=>{t?o.tracklist.add([t]):e&&o.tracklist.add({uris:e})},j2=async t=>{console.log("[Mopidy]: Searching images for ",t.uri);const e=await o.library.getImages({uris:[t.uri]});if(Object.values(e)[0].length>0)return Object.values(e)[0].find(s=>s.__model__=="Image").uri;if(t&&t.album){const s=await(await fetch(`https://ws.audioscrobbler.com/2.0/?format=json&method=album.getInfo&album=${t.album.name.replace(/[^\w\s]/gi,"")}&artist=${t.artists[0].name.replace(/[^\w\s]/gi,"")}&api_key=12bbc4850d7cb77e2842f0a2f7bcc2e3&&autocorrect=1`)).json();if(console.log("[Lastfm]: Result information",s),s&&s.album){const c=s.album.image.find(r=>r.size==="extralarge");if(c["#text"])return c["#text"]}}};export{Dt as $,jt as A,S2 as B,C2 as C,M2 as D,n2 as E,xt as F,O as G,p2 as H,m2 as I,v2 as J,ue as K,de as L,he as M,i2 as N,L2 as O,tt as P,a2 as Q,e2 as R,J as S,Jt as T,x2 as U,z2 as V,E2 as W,f2 as X,l2 as Y,Pt as Z,Ot as _,h2 as a,c2 as a0,qt as a1,Yt as a2,r2 as a3,Xt as a4,Zt as a5,Kt as a6,b2 as a7,k2 as a8,s2 as a9,Ut as aa,It as ab,bt as ac,Nt as ad,Et as ae,et as af,$e as ag,Ze as ah,Ye as ai,Xe as aj,u2 as ak,oe as al,d2 as am,Rt as an,zt as ao,Ht as ap,$t as aq,Bt as ar,At as as,Wt as at,y2 as b,Je as c,Ft as d,St as e,Tt as f,Ct as g,_2 as h,Gt as i,y as j,re as k,j2 as l,Qe as m,w2 as n,Qt as o,P2 as p,t2 as q,Vt as r,N2 as s,q as t,Mt as u,o2 as v,g2 as w,V2 as x,T2 as y,O2 as z};
