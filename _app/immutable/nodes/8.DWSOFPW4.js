import{H as Rt,g as Bt}from"../chunks/entry.CMlRCgZr.js";import{O as Ut,m as At,F as X,aa as zt,ab as Ft,f as It,r as Qt,v as Vt,d as Ct,U as mt,V as _t,W as ht,S as Gt,ac as Yt,l as Kt,o as Tt,q as Mt,E as Lt,Q as Wt,e as pt,u as Jt,g as Xt,A as Zt,B as gt,C as vt,D as kt}from"../chunks/mopidyTools.Ec-cZSvp.js";import{f as xt,c as el,a as tl}from"../chunks/index.MXEzKdz7.js";import{h as Fe,u as Nt}from"../chunks/await_block.CMdXeV2i.js";import{S as St,i as qt,e as m,n as M,c as _,a as p,d as u,p as L,k as Be,q as i,y as Te,f as D,g as c,r as N,w as G,t as O,x as Y,b as j,z as K,s as Ee,j as y,m as je,h as b,B as W,v as Me,l as He,D as ll,A as sl}from"../chunks/index.dv9gt0BC.js";import{s as Ot,k as he,n as le,r as Ze,c as jt,h as rl,o as al,l as bt}from"../chunks/scheduler.BeHD8Juy.js";import{c as nl}from"../chunks/clickOutside.BxFJ2b6i.js";import{b as Ht}from"../chunks/paths.BXa1Ql-T.js";function ol(r,e){throw new Rt(r,e)}new TextEncoder;const il=async r=>{try{const e=await Ut();if(e!==void 0&&e.length>0)return e.find(l=>l.name===r)}catch{return""}};async function cl({params:r}){const e=await il(r.slug);if(e!="")return{selectedPlaylist:e,slug:r.slug};ol(404,"Page not found")}const Ul=Object.freeze(Object.defineProperty({__proto__:null,load:cl},Symbol.toStringTag,{value:"Module"}));function ul(r){let e,t,l,s,a,n,f="Delete playlist",o,d,h="Yes",E,B,H,C;return{c(){e=m("div"),t=m("div"),l=M(),s=m("div"),a=m("div"),n=m("p"),n.textContent=f,o=M(),d=m("button"),d.textContent=h,E=M(),B=m("button"),this.h()},l(T){e=_(T,"DIV",{class:!0});var P=p(e);t=_(P,"DIV",{class:!0,role:!0,tabindex:!0}),p(t).forEach(u),l=L(P),s=_(P,"DIV",{class:!0});var oe=p(s);a=_(oe,"DIV",{class:!0});var Z=p(a);n=_(Z,"P",{class:!0,"data-svelte-h":!0}),Be(n)!=="svelte-1yj16o2"&&(n.textContent=f),o=L(Z),d=_(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),Be(d)!=="svelte-13a00of"&&(d.textContent=h),Z.forEach(u),oe.forEach(u),E=L(P),B=_(P,"BUTTON",{class:!0,"aria-label":!0}),p(B).forEach(u),P.forEach(u),this.h()},h(){i(t,"class","modal-background svelte-sak310"),i(t,"role","button"),i(t,"tabindex","0"),i(n,"class","title"),i(d,"class","button"),i(a,"class","modal-card-body has-text-centered svelte-sak310"),i(s,"class","modal-card svelte-sak310"),i(B,"class","modal-close is-large svelte-sak310"),i(B,"aria-label","close"),i(e,"class","modal svelte-sak310"),Te(e,"is-active",r[0])},m(T,P){D(T,e,P),c(e,t),c(e,l),c(e,s),c(s,a),c(a,n),c(a,o),c(a,d),c(e,E),c(e,B),H||(C=[N(t,"click",r[3]),N(t,"keypress",r[4]),N(d,"click",function(){he(r[2](r[1].uri))&&r[2](r[1].uri).apply(this,arguments)}),N(B,"click",r[5])],H=!0)},p(T,[P]){r=T,P&1&&Te(e,"is-active",r[0])},i:le,o:le,d(T){T&&u(e),H=!1,Ze(C)}}}function fl(r,e,t){let l;jt(r,At,h=>t(6,l=h));let{deletePlaylistConfirmation:s}=e,{selectedPlaylist:a}=e;const n=async h=>{await l.playlists.delete({uri:h})?(t(0,s=!s),setTimeout(()=>{Bt("playlists")},1e3)):console.log("Error: no laylist remove")},f=()=>t(0,s=!s),o=()=>t(0,s=!s),d=()=>t(0,s=!s);return r.$$set=h=>{"deletePlaylistConfirmation"in h&&t(0,s=h.deletePlaylistConfirmation),"selectedPlaylist"in h&&t(1,a=h.selectedPlaylist)},[s,a,n,f,o,d]}class dl extends St{constructor(e){super(),qt(this,e,fl,ul,Ot,{deletePlaylistConfirmation:0,selectedPlaylist:1})}}function yt(r,e,t){const l=r.slice();return l[28]=e[t],l[30]=t,l}function ml(r){let e,t=`<figure class="image is-1by1"><img src="${Ht}/icon.svg" alt="Placeholder" width="240" height="240"/></figure>`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1lb8zzs"&&(e.innerHTML=t),this.h()},h(){i(e,"class","card-image has-text-centered")},m(l,s){D(l,e,s)},p:le,d(l){l&&u(e)}}}function _l(r){let e,t,l,s;return{c(){e=m("div"),t=m("figure"),l=m("img"),this.h()},l(a){e=_(a,"DIV",{class:!0});var n=p(e);t=_(n,"FIGURE",{class:!0});var f=p(t);l=_(f,"IMG",{src:!0,width:!0,height:!0,alt:!0}),f.forEach(u),n.forEach(u),this.h()},h(){bt(l.src,s=r[8])||i(l,"src",s),i(l,"width","240"),i(l,"height","240"),i(l,"alt","Album"),i(t,"class","image"),i(e,"class","card-image has-text-centered")},m(a,n){D(a,e,n),c(e,t),c(t,l)},p(a,n){n[0]&256&&!bt(l.src,s=a[8])&&i(l,"src",s)},d(a){a&&u(e)}}}function hl(r){let e,t,l;return t=new X({props:{icon:Tt,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){e=m("a"),G(t.$$.fragment),this.h()},l(s){e=_(s,"A",{href:!0,class:!0});var a=p(e);Y(t.$$.fragment,a),a.forEach(u),this.h()},h(){i(e,"href",null),i(e,"class","button")},m(s,a){D(s,e,a),K(t,e,null),l=!0},i(s){l||(b(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&u(e),W(t)}}}function pl(r){let e,t,l;return t=new X({props:{icon:Mt,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){e=m("a"),G(t.$$.fragment),this.h()},l(s){e=_(s,"A",{href:!0,class:!0});var a=p(e);Y(t.$$.fragment,a),a.forEach(u),this.h()},h(){i(e,"href",null),i(e,"class","button")},m(s,a){D(s,e,a),K(t,e,null),l=!0},i(s){l||(b(t.$$.fragment,s),l=!0)},o(s){y(t.$$.fragment,s),l=!1},d(s){s&&u(e),W(t)}}}function $t(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:yl,then:vl,catch:gl,value:32,error:31,blocks:[,,,]};return Fe(t=r[4],s),{c(){e=Me(),s.block.c()},l(a){e=Me(),s.block.l(a)},m(a,n){D(a,e,n),s.block.m(a,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(a,n){r=a,s.ctx=r,n[0]&16&&t!==(t=r[4])&&Fe(t,s)||Nt(s,r,n)},i(a){l||(b(s.block),l=!0)},o(a){for(let n=0;n<3;n+=1){const f=s.blocks[n];y(f)}l=!1},d(a){a&&u(e),s.block.d(a),s.token=null,s=null}}}function gl(r){let e=r[31].message+"",t;return{c(){t=O(e)},l(l){t=j(l,e)},m(l,s){D(l,t,s)},p(l,s){s[0]&16&&e!==(e=l[31].message+"")&&Ee(t,e)},i:le,o:le,d(l){l&&u(t)}}}function vl(r){let e,t,l,s;const a=[bl,kl],n=[];function f(o,d){return o[32]?0:1}return e=f(r),t=n[e]=a[e](r),{c(){t.c(),l=Me()},l(o){t.l(o),l=Me()},m(o,d){n[e].m(o,d),D(o,l,d),s=!0},p(o,d){let h=e;e=f(o),e!==h&&(He(),y(n[h],1,1,()=>{n[h]=null}),je(),t=n[e],t||(t=n[e]=a[e](o),t.c()),b(t,1),t.m(l.parentNode,l))},i(o){s||(b(t),s=!0)},o(o){y(t),s=!1},d(o){o&&u(l),n[e].d(o)}}}function kl(r){let e;return{c(){e=O("Error")},l(t){e=j(t,"Error")},m(t,l){D(t,e,l)},i:le,o:le,d(t){t&&u(e)}}}function bl(r){let e,t,l,s;return l=new X({props:{icon:Wt,class:"icon"}}),{c(){e=m("div"),t=m("a"),G(l.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var n=p(e);t=_(n,"A",{href:!0,class:!0});var f=p(t);Y(l.$$.fragment,f),f.forEach(u),n.forEach(u),this.h()},h(){i(t,"href",null),i(t,"class","button"),i(e,"class","column")},m(a,n){D(a,e,n),c(e,t),K(l,t,null),s=!0},i(a){s||(b(l.$$.fragment,a),s=!0)},o(a){y(l.$$.fragment,a),s=!1},d(a){a&&u(e),W(l)}}}function yl(r){let e,t,l,s;return l=new X({props:{icon:Lt,spin:!0,class:"icon"}}),{c(){e=m("div"),t=m("a"),G(l.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var n=p(e);t=_(n,"A",{href:!0,class:!0});var f=p(t);Y(l.$$.fragment,f),f.forEach(u),n.forEach(u),this.h()},h(){i(t,"href",null),i(t,"class","button"),i(e,"class","column")},m(a,n){D(a,e,n),c(e,t),K(l,t,null),s=!0},p:le,i(a){s||(b(l.$$.fragment,a),s=!0)},o(a){y(l.$$.fragment,a),s=!1},d(a){a&&u(e),W(l)}}}function $l(r){let e,t=r[31].message+"",l;return{c(){e=m("p"),l=O(t),this.h()},l(s){e=_(s,"P",{class:!0,style:!0});var a=p(e);l=j(a,t),a.forEach(u),this.h()},h(){i(e,"class","list-item"),ll(e,"color","red")},m(s,a){D(s,e,a),c(e,l)},p(s,a){a[0]&128&&t!==(t=s[31].message+"")&&Ee(l,t)},i:le,o:le,d(s){s&&u(e)}}}function wl(r){let e,t,l,s;const a=[Pl,El],n=[];function f(o,d){return o[3].tracks?0:1}return e=f(r),t=n[e]=a[e](r),{c(){t.c(),l=Me()},l(o){t.l(o),l=Me()},m(o,d){n[e].m(o,d),D(o,l,d),s=!0},p(o,d){let h=e;e=f(o),e===h?n[e].p(o,d):(He(),y(n[h],1,1,()=>{n[h]=null}),je(),t=n[e],t?t.p(o,d):(t=n[e]=a[e](o),t.c()),b(t,1),t.m(l.parentNode,l))},i(o){s||(b(t),s=!0)},o(o){y(t),s=!1},d(o){o&&u(l),n[e].d(o)}}}function El(r){let e,t="No tracks";return{c(){e=m("a"),e.textContent=t,this.h()},l(l){e=_(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-1ikxyl7"&&(e.textContent=t),this.h()},h(){i(e,"href",null),i(e,"class","list-item")},m(l,s){D(l,e,s)},p:le,i:le,o:le,d(l){l&&u(e)}}}function Pl(r){let e=[],t=new Map,l,s,a=pt(r[3].tracks);const n=o=>o[9](o[28]);for(let o=0;o<a.length;o+=1){let d=yt(r,a,o),h=n(d);t.set(h,e[o]=Pt(h,d))}let f=null;return a.length||(f=wt()),{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=Me(),f&&f.c()},l(o){for(let d=0;d<e.length;d+=1)e[d].l(o);l=Me(),f&&f.l(o)},m(o,d){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(o,d);D(o,l,d),f&&f.m(o,d),s=!0},p(o,d){if(d[0]&46184){a=pt(o[3].tracks),He();for(let h=0;h<e.length;h+=1)e[h].r();e=Jt(e,d,n,1,o,a,t,l.parentNode,Xt,Pt,l,yt);for(let h=0;h<e.length;h+=1)e[h].a();je(),!a.length&&f?f.p(o,d):a.length?f&&(f.d(1),f=null):(f=wt(),f.c(),f.m(l.parentNode,l))}},i(o){if(!s){for(let d=0;d<a.length;d+=1)b(e[d]);s=!0}},o(o){for(let d=0;d<e.length;d+=1)y(e[d]);s=!1},d(o){o&&u(l);for(let d=0;d<e.length;d+=1)e[d].d(o);f&&f.d(o)}}}function wt(r){let e,t="loading songs";return{c(){e=m("a"),e.textContent=t,this.h()},l(l){e=_(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-111x9by"&&(e.textContent=t),this.h()},h(){i(e,"href",null),i(e,"class","list-item")},m(l,s){D(l,e,s)},p:le,d(l){l&&u(e)}}}function Dl(r){let e=r[28].name+"",t;return{c(){t=O(e)},l(l){t=j(l,e)},m(l,s){D(l,t,s)},p(l,s){s[0]&8&&e!==(e=l[28].name+"")&&Ee(t,e)},d(l){l&&u(t)}}}function Al(r){let e=r[28].artists.map(Dt).join(", ")+"",t,l,s=r[28].name+"",a;return{c(){t=O(e),l=O(" - "),a=O(s)},l(n){t=j(n,e),l=j(n," - "),a=j(n,s)},m(n,f){D(n,t,f),D(n,l,f),D(n,a,f)},p(n,f){f[0]&8&&e!==(e=n[28].artists.map(Dt).join(", ")+"")&&Ee(t,e),f[0]&8&&s!==(s=n[28].name+"")&&Ee(a,s)},d(n){n&&(u(t),u(l),u(a))}}}function Et(r){let e,t=r[15](r[28].length/1e3)+"",l;return{c(){e=m("span"),l=O(t),this.h()},l(s){e=_(s,"SPAN",{class:!0});var a=p(e);l=j(a,t),a.forEach(u),this.h()},h(){i(e,"class","is-hidden-touch")},m(s,a){D(s,e,a),c(e,l)},p(s,a){a[0]&8&&t!==(t=s[15](s[28].length/1e3)+"")&&Ee(l,t)},d(s){s&&u(e)}}}function Il(r){let e,t;return e=new X({props:{icon:Tt,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,s){K(e,l,s),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Vl(r){let e,t;return e=new X({props:{icon:Mt,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,s){K(e,l,s),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Pt(r,e){let t,l,s,a,n,f,o,d,h,E,B,H,C,T,P,oe,Z,x,ie,fe,U,z,J,ce,ye,F,Q,ue,$e,g,v=le,A,S,ee;function Pe($,q){return $[28].artists?Al:Dl}let se=Pe(e),V=se(e),I=e[28].artists&&Et(e);const ke=[Vl,Il],pe=[];function Ne($,q){return $[6]==$[30]?0:1}h=Ne(e),E=pe[h]=ke[h](e),P=new X({props:{icon:It,class:"icon is-small"}}),ie=new X({props:{icon:Zt,class:"icon is-small"}}),J=new X({props:{icon:Vt,class:"icon is-small"}}),Q=new X({props:{icon:Ct,class:"icon is-small"}});function ge(...$){return e[19](e[30],...$)}function we(...$){return e[20](e[30],...$)}function Re(){return e[21](e[30])}return{key:r,first:null,c(){t=m("a"),l=m("div"),s=m("div"),V.c(),a=M(),n=m("div"),f=m("div"),o=m("div"),I&&I.c(),d=M(),E.c(),B=M(),H=m("div"),C=m("div"),T=m("a"),G(P.$$.fragment),oe=O(` 
                       Play now`),Z=M(),x=m("a"),G(ie.$$.fragment),fe=O(` 
                       Play next`),U=M(),z=m("a"),G(J.$$.fragment),ce=O(` 
                       Add to queue`),ye=M(),F=m("a"),G(Q.$$.fragment),ue=O(` 
                       Remove track`),$e=M(),this.h()},l($){t=_($,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var q=p(t);l=_(q,"DIV",{class:!0});var te=p(l);s=_(te,"DIV",{class:!0,role:!0,tabindex:!0});var Se=p(s);V.l(Se),Se.forEach(u),a=L(te),n=_(te,"DIV",{class:!0});var qe=p(n);f=_(qe,"DIV",{class:!0});var ae=p(f);o=_(ae,"DIV",{class:!0,role:!0,tabindex:!0});var de=p(o);I&&I.l(de),d=L(de),E.l(de),de.forEach(u),B=L(ae),H=_(ae,"DIV",{class:!0,id:!0,role:!0});var Oe=p(H);C=_(Oe,"DIV",{class:!0});var me=p(C);T=_(me,"A",{href:!0,class:!0});var De=p(T);Y(P.$$.fragment,De),oe=j(De,` 
                       Play now`),De.forEach(u),Z=L(me),x=_(me,"A",{href:!0,class:!0});var ne=p(x);Y(ie.$$.fragment,ne),fe=j(ne,` 
                       Play next`),ne.forEach(u),U=L(me),z=_(me,"A",{href:!0,class:!0});var Ae=p(z);Y(J.$$.fragment,Ae),ce=j(Ae,` 
                       Add to queue`),Ae.forEach(u),ye=L(me),F=_(me,"A",{href:!0,class:!0});var _e=p(F);Y(Q.$$.fragment,_e),ue=j(_e,` 
                       Remove track`),_e.forEach(u),me.forEach(u),Oe.forEach(u),ae.forEach(u),qe.forEach(u),te.forEach(u),$e=L(q),q.forEach(u),this.h()},h(){i(s,"class","column"),i(s,"role","button"),i(s,"tabindex","0"),i(o,"class","dropdown-trigger"),i(o,"role","button"),i(o,"tabindex","0"),i(T,"href",null),i(T,"class","dropdown-item"),i(x,"href",null),i(x,"class","dropdown-item"),i(z,"href",null),i(z,"class","dropdown-item"),i(F,"href",null),i(F,"class","dropdown-item"),i(C,"class","dropdown-content"),i(H,"class","dropdown-menu"),i(H,"id","dropdown-menu"),i(H,"role","menu"),i(f,"class","dropdown is-right is-up"),Te(f,"is-active",e[6]==e[30]),i(n,"class","column is-narrow"),i(l,"class","columns is-mobile"),i(t,"class","list-item"),i(t,"href",null),i(t,"draggable",!0),i(t,"ondragover","return false"),Te(t,"is-active",e[5]===e[30]),this.first=t},m($,q){D($,t,q),c(t,l),c(l,s),V.m(s,null),c(l,a),c(l,n),c(n,f),c(f,o),I&&I.m(o,null),c(o,d),pe[h].m(o,null),c(f,B),c(f,H),c(H,C),c(C,T),K(P,T,null),c(T,oe),c(C,Z),c(C,x),K(ie,x,null),c(x,fe),c(C,U),c(C,z),K(J,z,null),c(z,ce),c(C,ye),c(C,F),K(Q,F,null),c(F,ue),c(t,$e),A=!0,S||(ee=[N(s,"click",function(){he(e[13](e[30]))&&e[13](e[30]).apply(this,arguments)}),N(s,"keypress",function(){he(e[13](e[30]))&&e[13](e[30]).apply(this,arguments)}),N(o,"click",function(){he(e[13](e[30]))&&e[13](e[30]).apply(this,arguments)}),N(o,"keypress",function(){he(e[13](e[30]))&&e[13](e[30]).apply(this,arguments)}),N(T,"click",function(){he(gt(e[28].uri))&&gt(e[28].uri).apply(this,arguments)}),N(x,"click",function(){he(vt(e[28].uri))&&vt(e[28].uri).apply(this,arguments)}),N(z,"click",function(){he(kt(e[28].uri))&&kt(e[28].uri).apply(this,arguments)}),N(F,"click",function(){he(e[12](e[28].uri))&&e[12](e[28].uri).apply(this,arguments)}),N(t,"dragstart",ge),N(t,"drop",sl(we)),N(t,"dragenter",Re)],S=!0)},p($,q){e=$,se===(se=Pe(e))&&V?V.p(e,q):(V.d(1),V=se(e),V&&(V.c(),V.m(s,null))),e[28].artists?I?I.p(e,q):(I=Et(e),I.c(),I.m(o,d)):I&&(I.d(1),I=null);let te=h;h=Ne(e),h!==te&&(He(),y(pe[te],1,1,()=>{pe[te]=null}),je(),E=pe[h],E||(E=pe[h]=ke[h](e),E.c()),b(E,1),E.m(o,null)),(!A||q[0]&72)&&Te(f,"is-active",e[6]==e[30]),(!A||q[0]&40)&&Te(t,"is-active",e[5]===e[30])},r(){g=t.getBoundingClientRect()},f(){xt(t),v()},a(){v(),v=el(t,g,tl,{})},i($){A||(b(E),b(P.$$.fragment,$),b(ie.$$.fragment,$),b(J.$$.fragment,$),b(Q.$$.fragment,$),A=!0)},o($){y(E),y(P.$$.fragment,$),y(ie.$$.fragment,$),y(J.$$.fragment,$),y(Q.$$.fragment,$),A=!1},d($){$&&u(t),V.d(),I&&I.d(),pe[h].d(),W(P),W(ie),W(J),W(Q),S=!1,Ze(ee)}}}function Cl(r){let e,t,l,s;return t=new X({props:{icon:Lt,class:"icon is-24",spin:!0}}),{c(){e=m("p"),G(t.$$.fragment),l=O(`
      Loading songs ..`),this.h()},l(a){e=_(a,"P",{class:!0});var n=p(e);Y(t.$$.fragment,n),l=j(n,`
      Loading songs ..`),n.forEach(u),this.h()},h(){i(e,"class","list-item")},m(a,n){D(a,e,n),K(t,e,null),c(e,l),s=!0},p:le,i(a){s||(b(t.$$.fragment,a),s=!0)},o(a){y(t.$$.fragment,a),s=!1},d(a){a&&u(e),W(t)}}}function Tl(r){let e,t,l,s,a,n,f,o=r[0].slug.replace("-"," ")+"",d,h,E,B=r[3].tracks.length+"",H,C,T,P,oe,Z=r[14](r[3].last_modified)+"",x,ie,fe,U,z,J,ce,ye,F,Q,ue,$e,g,v,A,S,ee,Pe,se,V,I,ke,pe,Ne,ge,we,Re,$,q,te,Se,qe,ae,de,Oe,me,De,ne,Ae,_e,Qe,xe;e=new dl({props:{deletePlaylistConfirmation:r[1],selectedPlaylist:r[0].selectedPlaylist}});function et(k,w){return k[8]?_l:ml}let Ue=et(r),ve=Ue(r);ce=new X({props:{icon:zt,class:"icon"}}),ue=new X({props:{icon:Ft,class:"icon"}});const tt=[pl,hl],Le=[];function lt(k,w){return k[2]?0:1}S=lt(r),ee=Le[S]=tt[S](r),ke=new X({props:{icon:It,class:"icon is-small"}}),we=new X({props:{icon:Qt,class:"icon is-small"}}),te=new X({props:{icon:Vt,class:"icon is-small"}}),de=new X({props:{icon:Ct,class:"icon is-small"}});let R=r[4]&&$t(r),re={ctx:r,current:null,token:null,hasCatch:!0,pending:Cl,then:wl,catch:$l,error:31,blocks:[,,,]};return Fe(Ae=r[7],re),{c(){G(e.$$.fragment),t=M(),l=m("div"),s=m("div"),ve.c(),a=M(),n=m("div"),f=m("h1"),d=O(o),h=M(),E=m("p"),H=O(B),C=O(" songs"),T=M(),P=m("p"),oe=O("Last modified: "),x=O(Z),ie=M(),fe=m("div"),U=m("div"),z=m("div"),J=m("a"),G(ce.$$.fragment),ye=M(),F=m("div"),Q=m("a"),G(ue.$$.fragment),$e=M(),g=m("div"),v=m("div"),A=m("div"),ee.c(),Pe=M(),se=m("div"),V=m("div"),I=m("a"),G(ke.$$.fragment),pe=O(`  
                  Play now`),Ne=M(),ge=m("a"),G(we.$$.fragment),Re=O(`  
                  Play shuffle`),$=M(),q=m("a"),G(te.$$.fragment),Se=O(`  
                  Add to queue`),qe=M(),ae=m("a"),G(de.$$.fragment),Oe=O(`  
                  Delete playlist`),me=M(),R&&R.c(),De=M(),ne=m("div"),re.block.c(),this.h()},l(k){Y(e.$$.fragment,k),t=L(k),l=_(k,"DIV",{class:!0});var w=p(l);s=_(w,"DIV",{class:!0});var Ie=p(s);ve.l(Ie),Ie.forEach(u),a=L(w),n=_(w,"DIV",{class:!0});var be=p(n);f=_(be,"H1",{class:!0});var st=p(f);d=j(st,o),st.forEach(u),h=L(be),E=_(be,"P",{});var Ge=p(E);H=j(Ge,B),C=j(Ge," songs"),Ge.forEach(u),T=L(be),P=_(be,"P",{});var Ye=p(P);oe=j(Ye,"Last modified: "),x=j(Ye,Z),Ye.forEach(u),be.forEach(u),ie=L(w),fe=_(w,"DIV",{class:!0});var rt=p(fe);U=_(rt,"DIV",{class:!0});var Ve=p(U);z=_(Ve,"DIV",{class:!0});var at=p(z);J=_(at,"A",{class:!0,href:!0});var nt=p(J);Y(ce.$$.fragment,nt),nt.forEach(u),at.forEach(u),ye=L(Ve),F=_(Ve,"DIV",{class:!0});var ot=p(F);Q=_(ot,"A",{href:!0,class:!0});var it=p(Q);Y(ue.$$.fragment,it),it.forEach(u),ot.forEach(u),$e=L(Ve),g=_(Ve,"DIV",{class:!0});var ct=p(g);v=_(ct,"DIV",{class:!0});var ze=p(v);A=_(ze,"DIV",{class:!0,role:!0,tabindex:!0});var ut=p(A);ee.l(ut),ut.forEach(u),Pe=L(ze),se=_(ze,"DIV",{class:!0,id:!0,role:!0});var ft=p(se);V=_(ft,"DIV",{class:!0});var Ce=p(V);I=_(Ce,"A",{href:!0,class:!0});var Ke=p(I);Y(ke.$$.fragment,Ke),pe=j(Ke,`  
                  Play now`),Ke.forEach(u),Ne=L(Ce),ge=_(Ce,"A",{href:!0,class:!0});var We=p(ge);Y(we.$$.fragment,We),Re=j(We,`  
                  Play shuffle`),We.forEach(u),$=L(Ce),q=_(Ce,"A",{href:!0,class:!0});var Je=p(q);Y(te.$$.fragment,Je),Se=j(Je,`  
                  Add to queue`),Je.forEach(u),qe=L(Ce),ae=_(Ce,"A",{href:!0,class:!0});var Xe=p(ae);Y(de.$$.fragment,Xe),Oe=j(Xe,`  
                  Delete playlist`),Xe.forEach(u),Ce.forEach(u),ft.forEach(u),ze.forEach(u),ct.forEach(u),me=L(Ve),R&&R.l(Ve),Ve.forEach(u),rt.forEach(u),w.forEach(u),De=L(k),ne=_(k,"DIV",{class:!0});var dt=p(ne);re.block.l(dt),dt.forEach(u),this.h()},h(){i(s,"class","column"),i(f,"class","title"),i(n,"class","column"),i(J,"class","button"),i(J,"href",Ht+"/playlists"),i(z,"class","column"),i(Q,"href",null),i(Q,"class","button"),i(F,"class","column"),i(A,"class","dropdown-trigger"),i(A,"role","button"),i(A,"tabindex","0"),i(I,"href",null),i(I,"class","dropdown-item"),i(ge,"href",null),i(ge,"class","dropdown-item"),i(q,"href",null),i(q,"class","dropdown-item"),i(ae,"href",null),i(ae,"class","dropdown-item"),i(V,"class","dropdown-content"),i(se,"class","dropdown-menu"),i(se,"id","dropdown-menu"),i(se,"role","menu"),i(v,"class","dropdown is-right"),Te(v,"is-active",r[2]),i(g,"class","column"),i(U,"class","columns is-mobile"),i(fe,"class","column is-narrow"),i(l,"class","columns"),i(ne,"class","list is-hoverable")},m(k,w){K(e,k,w),D(k,t,w),D(k,l,w),c(l,s),ve.m(s,null),c(l,a),c(l,n),c(n,f),c(f,d),c(n,h),c(n,E),c(E,H),c(E,C),c(n,T),c(n,P),c(P,oe),c(P,x),c(l,ie),c(l,fe),c(fe,U),c(U,z),c(z,J),K(ce,J,null),c(U,ye),c(U,F),c(F,Q),K(ue,Q,null),c(U,$e),c(U,g),c(g,v),c(v,A),Le[S].m(A,null),c(v,Pe),c(v,se),c(se,V),c(V,I),K(ke,I,null),c(I,pe),c(V,Ne),c(V,ge),K(we,ge,null),c(ge,Re),c(V,$),c(V,q),K(te,q,null),c(q,Se),c(V,qe),c(V,ae),K(de,ae,null),c(ae,Oe),c(U,me),R&&R.m(U,null),D(k,De,w),D(k,ne,w),re.block.m(ne,re.anchor=null),re.mount=()=>ne,re.anchor=null,_e=!0,Qe||(xe=[N(Q,"click",r[11]),N(A,"click",r[16]),N(A,"keypress",r[17]),N(I,"click",function(){he(mt(r[0].selectedPlaylist.uri))&&mt(r[0].selectedPlaylist.uri).apply(this,arguments)}),N(ge,"click",function(){he(_t(r[0].selectedPlaylist.uri))&&_t(r[0].selectedPlaylist.uri).apply(this,arguments)}),N(q,"click",function(){he(ht(r[0].selectedPlaylist.uri))&&ht(r[0].selectedPlaylist.uri).apply(this,arguments)}),N(ae,"click",r[18]),rl(nl.call(null,ne)),N(ne,"click_outside",r[22])],Qe=!0)},p(k,w){r=k;const Ie={};w[0]&2&&(Ie.deletePlaylistConfirmation=r[1]),w[0]&1&&(Ie.selectedPlaylist=r[0].selectedPlaylist),e.$set(Ie),Ue===(Ue=et(r))&&ve?ve.p(r,w):(ve.d(1),ve=Ue(r),ve&&(ve.c(),ve.m(s,null))),(!_e||w[0]&1)&&o!==(o=r[0].slug.replace("-"," ")+"")&&Ee(d,o),(!_e||w[0]&8)&&B!==(B=r[3].tracks.length+"")&&Ee(H,B),(!_e||w[0]&8)&&Z!==(Z=r[14](r[3].last_modified)+"")&&Ee(x,Z);let be=S;S=lt(r),S!==be&&(He(),y(Le[be],1,1,()=>{Le[be]=null}),je(),ee=Le[S],ee||(ee=Le[S]=tt[S](r),ee.c()),b(ee,1),ee.m(A,null)),(!_e||w[0]&4)&&Te(v,"is-active",r[2]),r[4]?R?(R.p(r,w),w[0]&16&&b(R,1)):(R=$t(r),R.c(),b(R,1),R.m(U,null)):R&&(He(),y(R,1,1,()=>{R=null}),je()),re.ctx=r,w[0]&128&&Ae!==(Ae=r[7])&&Fe(Ae,re)||Nt(re,r,w)},i(k){_e||(b(e.$$.fragment,k),b(ce.$$.fragment,k),b(ue.$$.fragment,k),b(ee),b(ke.$$.fragment,k),b(we.$$.fragment,k),b(te.$$.fragment,k),b(de.$$.fragment,k),b(R),b(re.block),_e=!0)},o(k){y(e.$$.fragment,k),y(ce.$$.fragment,k),y(ue.$$.fragment,k),y(ee),y(ke.$$.fragment,k),y(we.$$.fragment,k),y(te.$$.fragment,k),y(de.$$.fragment,k),y(R);for(let w=0;w<3;w+=1){const Ie=re.blocks[w];y(Ie)}_e=!1},d(k){k&&(u(t),u(l),u(De),u(ne)),W(e,k),ve.d(),W(ce),W(ue),Le[S].d(),W(ke),W(we),W(te),W(de),R&&R.d(),re.block.d(),re.token=null,re=null,Qe=!1,Ze(xe)}}}function Ml(r,e){r.dataTransfer.effectAllowed="move",r.dataTransfer.dropEffect="move";let t=e;r.dataTransfer.setData("text/plain",t)}const Dt=r=>r.name;function Ll(r,e,t){let l;jt(r,At,g=>t(23,l=g));let{data:s}=e,a=!1,n=!1,f={tracks:[],last_modified:void 0},o,d=!1,h,E;const B=g=>h?g[h]:g;let H,C;al(()=>{t(7,H=T(s.selectedPlaylist.uri))});const T=async g=>{t(3,f=await Gt(g)),await P(f.tracks)},P=async g=>{let v=0;for(;v<5&!C;){const A=await Yt(g[v].uri);t(8,C=await Kt(A)),v+=1}};function oe(g,v){g.dataTransfer.dropEffect="move";let A=g.dataTransfer.getData("text/plain"),S=f.tracks;S[v]=S.splice(A,1,S[v])[0],t(3,f.tracks=S,f),t(5,d=null)}async function Z(){return!!await l.playlists.save({playlist:f})}function x(){t(4,o=Z())}function ie(g){let v=f.tracks;v=v.filter(A=>A.uri!=g),t(3,f.tracks=v,f)}const fe=g=>{E===g?t(6,E=null):t(6,E=g)},U=g=>{const v=new Date(g),A=v.getDate(),S=v.getMonth()+1,ee="20"+`${v.getYear()}`.substring(1),Pe=v.getHours(),se=v.getMinutes()<10?`0${v.getMinutes()}`.substring(-2):`${v.getMinutes()}`.substring(-2);return`${A}-${S}-${ee} ${Pe}:${se}`},z=g=>{const v=Math.round(g%60)<10?`0${Math.round(g%60)}`:`${Math.round(g%60)}`;return`${Math.floor(g/60)}:${v}`},J=()=>t(2,n=!n),ce=()=>t(2,n=!n),ye=()=>t(1,a=!a),F=(g,v)=>Ml(v,g),Q=(g,v)=>oe(v,g),ue=g=>t(5,d=g),$e=()=>t(6,E=null);return r.$$set=g=>{"data"in g&&t(0,s=g.data)},[s,a,n,f,o,d,E,H,C,B,oe,x,ie,fe,U,z,J,ce,ye,F,Q,ue,$e]}class zl extends St{constructor(e){super(),qt(this,e,Ll,Tl,Ot,{data:0},null,[-1,-1])}}export{zl as component,Ul as universal};
